<!-- eslint-disable @angular-eslint/template/label-has-associated-control -->
<section
    class="mx-auto -mt-10 flex h-svh flex-col items-center justify-center px-6 py-8 lg:py-0"
>
    <div
        class="w-full rounded-lg bg-base-200 text-base-content shadow sm:max-w-md md:mt-0 xl:p-0"
    >
        <div class="space-y-4 p-6 sm:p-8 md:space-y-6">
            <h1
                class="text-xl font-bold leading-tight tracking-tight md:text-2xl"
            >
                Login to your account
            </h1>
            <div *ngIf="errMessage" class="alert alert-error relative my-2">
                <ng-icon class="text-2xl" name="remixErrorWarningLine"></ng-icon>
                <span>{{ errMessage }}</span>
                <button
                    type="button"
                    class="absolute right-2.5 top-2.5 ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-300 hover:bg-gray-200 hover:text-gray-900"
                    (click)="errMessage = ''"
                >
                    <ng-icon class="text-lg" name="remixCloseLine"></ng-icon>
                </button>
            </div>
            <form
                [formGroup]="loginForm"
                (ngSubmit)="submitForm()"
                class="space-y-4 md:space-y-6"
            >
                <div>
                    <label for="username" class="mb-2 block text-sm font-medium"
                        >Username</label
                    >
                    <input
                        type="text"
                        name="username"
                        id="username"
                        class="block w-full rounded-lg border border-primary bg-base-100 p-2.5 focus:border-primary focus:ring-primary sm:text-sm"
                        placeholder="johndoe"
                        formControlName="username"
                    />
                    <span class="text-sm text-red-500">
                        <app-validation-error
                            [control]="loginFormControls['username']"
                            [validationMessages]="validationMessages.username"
                        ></app-validation-error
                    ></span>
                </div>
                <div>
                    <label for="password" class="mb-2 block text-sm font-medium"
                        >Password</label
                    >
                    <input
                        type="password"
                        name="password"
                        id="password"
                        placeholder="••••••••"
                        class="block w-full rounded-lg border border-primary bg-base-100 p-2.5 focus:border-primary focus:ring-primary sm:text-sm"
                        formControlName="password"
                    />
                    <span class="text-sm text-red-500">
                        <app-validation-error
                            [control]="loginFormControls['password']"
                            [validationMessages]="validationMessages.password"
                        ></app-validation-error>
                    </span>
                </div>

                <button type="submit" class="btn btn-primary w-full">
                    Login
                    <span
                        *ngIf="loading"
                        class="text-textp loading loading-spinner loading-sm mb-1 ml-5"
                    ></span>
                </button>
            </form>
        </div>
    </div>
</section>
